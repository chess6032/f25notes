2025 09 11  
CS 240  
Ken Rodham  
DAY FOUR...?

# All objects exist on the heap

All objects exist on the heap. **To instantiate a new object, you *always* use the `new` keyword.**

# Strings

Strings are objects in Java. 

Built into Java's compiler/interpreter is the ability to create strings as if they were primitives (without calling `new`). This is why you can do smth like `String str = "penis";`.

## Stringbuilder

Strings are **immutable**, meaning they don't change. Whenever you add to a string, you're actually creating a brand new string.

For this reason, repeatedly using `str + str` can get really slow&mdash;especially in a loop.

# Arrays

You can declare an array without specifying its size (and wait to specify the size when you instantiate it). This is because when you first create the array, it will just be a reference that points to nothing.

```java
int[] array; // null reference

void Constructor() {
    array = new int[8];
}
```

## Primitive vs. objects arrays

If you create an array of primitives, each element will hold a primitive.

**If you create an array of objects, each element will hold a *reference*** to an object. When you first create it, it's an array of null references. Hence you must initialize an array if it holds objects.


# Packages

When you create a project, you'll have a `src` folder where your source code goes. But as a project gets bigger and bigger, you want to create subfolders in there to keep things organized. Those subfolders in Java are called packages.

## How to organize sub folders into packages

In Intellij: Right-click the file tree > New >  Package > name the package (adding `.` will create another subfolder).

Now, in the source code files contained in this subfolder, you have to use the keyword `package` at the top of the file to indicate its possession to a package.

```
edu/
    byu/
        cs240/
            demo/
                Student.java
```

```java
package edu.byu.cs240.demo;

public class Student {
}
```

Now, when referencing the `Student` class, you'd have to reference `edu.byu.cs240.demo.Student`...unless you created an `import` for it. (Which everyone does.)

### Imports

e.g. importing a class from a package:

```java
import java.util.Date;

public class Student {
    private Date birthdate;
}
```

e.g. importing all classes from a package:


```java
import java.util.*;

public class Student {
    private Date birthdate;
}
```

**You do not need to import stuff from the same package.**

# Chess: Phase 0

Phase 0 will be working in the `shared` folder.

- ChessBoard
- ChessMove
- ChessPiece
- ChessPosition

(ChessGame will be phase 1.)

## Making different chess pieces

Rodham advised against making sub-classes of ChessPiece for each different piece. He recommended instead to make "move calculator" classes. He said that would be easier down the road.

# Tests

You can see the test files for phase0 in `shared > java > passoff.chess` 

You can see methods with `@Test`. Those are test cases.

## Running test

Right-click one of the test files and click run.

Alternatively, there's a way to run all the tests in a single package. (I missed how, though.)

# Enums

```java
public enum YearInSchool {
    FRESHMAN,
    SOPHOMORE,
    JUNIOR,
    SENIOR,
    GRADUATE
}
```

In Java, **Enums are classes**, as opposed to C++ and other languages where enums are integers.

More specifically, Java enums are **"fixed domain"** classes.

# Class-level variables (`static`)

By default, when you create a variable, it's an instance-level variable. Meaning that it's local to that instance of the object.

If you add the `static` keyword when you declare the member variable, that variable is now class-level, meaning it is **shared across all instances among the class**.

# Scope between classes

An object of one class can actually reach into the private members of another object of the same class. (Huh.)

# Object class

The Object class is a class built into Java that serves as the root of the inheritance hierarchy for ALL classes.

If you don't define a superclass for a class (i.e. you don't tell the class to inherit from any class), the class automatically inherits from Object.

## Checking if objects are equal: `Object.equals()`

When you compare two *objects* with `==`, it actually just **compares their memory addresses**. (Trolled.)

To check if the objects' data are equal, you must use the object's `.equals()` method.

### Example

A standard `equals` method might look like this:

```java
public class Person {

    private int age;
    private String name;
    private YearInSchool year;

    @Override
    public boolean equals(Object o) {
        if (o == null) return false;
        if (o == this) return true; // see if we're comparing object with itself. (Dr. Jensen didn't do this yesterday...huh.)

        if (o.getClass() != getClass()) return false;

        // IMPORTANT!! READ THIS:
        // o is of type Object, which doesn't have the Person member attributes & stuff.
        // So, to compare the Person attributes on o, we have to "down cast" o to Person.
        // BUT we can only safely do that now that we've made absolutely SURE that o is an instance of Perosn (done above).
        Person that = (Person) o;

        return name.equals(that.name) && (age == that.age) && year.equals(that.year);
    }
}
```

As you can see, there's a few steps:

1. Check that other is not null.
2. Check that this and other are the same class.
3. Down-cast other from Object to this's class.
4. Check if other has the same values as this.

## Creating copies of objects: `Object.clone()`

`clone` creates and returns a copy of the object. 

## `toString()`

Returns a string representation of the object. 

## `hashCode()`

Returns a hashcode identifier for the object. 

Important for hash tables.

## `getClass()` 

When invoked on an object, it returns another object that describes its class.