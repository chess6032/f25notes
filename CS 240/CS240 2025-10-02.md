2025 10 02  
CS 240  
Ken Rodham  
Web servers

# Upcoming

Today, we're looking at how to design a web server.

Phase 3 is about building the web server. Phase 2 is actually pretty small&mdash;it's just to prepare you for phase 2.

# Chess Server Design

Rodham said in his mind, this is what the class is fr about. We're here to learn how to build bigger programs that don't have a trivial structure.

The architecture we'll be learning today is pretty standard.

Servers run in the background. They don't have any UI. They just sit there waiting for a request from a client.

The chess server will have players AND observers.

By "server", we're not talking about hardware required for hosting a server. 

## Communicating over web

```
            --- HTTP request ----> 
Chess           |   Web   |            Chess
Client          |         |            Server
            <--- HTTP response ----
```

The Server & Client are both just a regular old Java programs. They communicate with each other via the web. 

### Structure

- Servers.
    - Web site.
        - The term "website" is used very loosely here. 
        - The web page is for testing your tests. All it is is a single webpage that lists all the functions you can call. You'll load it in your browser.
    - Web API.
- Clients.
    - Web browser (test page).
        - Communicates w/ web site & web API.
    - Console client.
        - Communicates w/ web API.
    - Test driver (JUnit tests)
        - Communicates w/ web API.

#### Wait, what is an API?

API = "Application Program Interface". It's just a bunch 

## Relevant specifications

Rodham strongly encouraged us to study the phase 3 & phase 2 specifications. 

Phase 3 is ab the server itself.

Phase 2 is just instructions for making your infrastructure diagram.

Rodham advises you read phase 3 *before* phase 2 so that you know what you're actually designing in that diagram. (Or smth idrk tbh.)

# Academic Integrity

- CS 240 uses a plagiarism detections system that will compare your code w/ every other student's code who has ever done the chess project.
- If you use AI to write your code, it is likely that your code will be flagged, bc AI will mimic other student solutions it has seen.
- **Please write your own code.**
- When working w/ other people, you may work together at the "whiteboard", but not at the "keyboard".
    - Don't do synchronized coding.

It's acceptable to ask AI questions & stuff. But if you start having it write code for you, that's cheating.

# Reviewing relevant Software Design Principles

- Single responsibility principles (SRP).
    - Break up a program based on the different, distinct responsibilities it has to perform.
    - All a class's functionality being related to one concept == "cohesive".
- Avoid code duplication.
- Encapsulation/information hiding.

# Chess Server nitty-gritty

## Chess Server Data

Model class: A class for storing data. (Or smth.) Google AI Overview says it's a "software blueprint that defines the structure and behavior of a data object".

Model classes:

- User
- Authentication token
- Game
    - Will hold a ChessGame object.

## GIANT DIAGRAM

I drew it on Concepts. Hopefully I'll remember export it and put it here.

## FAQs

- Why not put service methods on the handler class?
    - SRP
- Why do the DAO classes depend on hte Model classes?
    - Model objs are parameters & return values for DAO methods.
- Why not have one handler class, one service class, one DAO class?
    - SRP.
    - Those classes would get too big and cluttered.
- Does it make sense to create base classes for: Handlers, services, requests, responses, DAOs?
    - YES, to avoid code duplication.
- Web API funcs return diff JSON objs for succes & failure. How do you do that?
    - GSON doesn't serialize null fields. (??)
- Does the Clear func need a request class?
    - No.
    - But all the other funcs do.